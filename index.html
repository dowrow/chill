<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>☆ Chill Nebula ☆</title>
	<style type="text/css">
		body {
			overflow: hidden;
		}
		#nebula {
			top:0;
			left:0;
			position: absolute;
			background-size: cover;
			background-position: center;
		}
		#dark {
			position: absolute;
			width: 100%;
			height: 100%;
			top: 0;
			left: 0;
			background-color: rgba(0,0,0,0.75);
		}
		#music{
			position: absolute;
			left: 100%;
			top: 100%;
			height: 80px;
			width: 300px;
			margin-left:-300px;
			margin-top:-80px;
		}

		#quote {
			position: absolute;
			top:25%;
			left:25%;
			height: 50%;
			width: 50%;
			text-align: center;
			color:white;
			font-size: 20pt;
			line-height: 25pt;
			font-family: Helvetica, Arial, Sans-serif;
		}

	</style>
</head>
<body>
	
	<div id="nebula"></div>
	
	<div id="dark"></div>
	
	<p id="quote">
		
	</p>
	
	<iframe id="music" src="https://embed.spotify.com/?uri=spotify:user:spotifyenespa%C3%B1ol:playlist:5DvOpxkfbleqL6qzGYrcq2" frameborder="0" allowtransparency="true"></iframe>

	<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script>

	var quotes = [
	"We're all just walking each other home.",
	"The quieter you become, the more you can hear.",
	"We're fascinated by the words--but where we meet is in the silence behind them.",
	"It is important to expect nothing, to take every experience, including the negative ones, as merely steps on the path, and to proceed.",
	"As long as you want power, you can't have it. The minute you don't want power, you'll have more than you ever dreamed possible.",
	"I would like my life to be a statement of love and compassion--and where it isn't, that's where my work lies.",
	"The heart surrenders everything to the moment. The mind judges and holds back.",
	"Be here now.",
	"In most of our human relationships, we spend much of our time reassuring one another that our costumes of identity are on straight.",
	"Your problem is you are too busy holding on to your unworthiness.",
	"As long as you have certain desires about how it ought to be you can't see how it is.",
	"Suffering is part of our training program for becoming wise.",
	"Treat everyone you meet like God in drag.",
	"What you meet in another being is the projection of your own level of evolution.",
	"Let's trade in all our judging for appreciating. Let's lay down our righteousness and just be together.",
	"The next message you need is always right where you are.",
	"The spiritual journey is individual, highly personal. It can't be organized or regulated. It isn't true that everyone should follow one path. Listen to your own truth.",
	"Only that in you which is me can hear what I'm saying.",
	"We are all affecting the world every moment, whether we mean to or not. Our actions and states of mind matter, because we are so deeply interconnected with one another.",
	"Everything changes once we identify with being the witness to the story, instead of the actor in it.",
	"A feeling of aversion or attachment toward something is your clue that there's work to be done.",
	"The game is not about becoming somebody, it's about becoming nobody.",
	"Learn to watch your drama unfold while at the same time knowing you are more than your drama."];

	var currentQuote = Math.floor(Math.random() * quotes.length);

	var nebulas = [
		"nebula1.jpg",
		"nebula2.jpg",
		"nebula3.jpg",
		"nebula4.jpg"
	];

	var currentNebula = Math.floor(Math.random() * nebulas.length);
	
	$(document).ready(main);
	
	function main () {
		resizeNebula();
		setInterval(rotateNebula, 15);
		$('#quote').text(quotes[currentQuote]);
		setInterval(showNewMantra, 25000);
	}

	function resizeNebula () {
		var w = $(document).width();
		var h = $(document).height();
		var diagonal = Math.sqrt(Math.pow(w,2) + Math.pow(h,2));
		$('#nebula').css('background-image', "url('" + nebulas + "')");
		$('#nebula').css('height', diagonal + 'px');
		$('#nebula').css('width', diagonal + 'px');
		$('#nebula').css('margin-top',  '-' + (diagonal - h)/2  + 'px');
		$('#nebula').css('margin-left',  '-' + (diagonal - w)/2 + 'px');
	}

	var rotation = 0;
	function rotateNebula () {
		rotation += 0.05;
		$('#nebula').css({'-webkit-transform' : 'rotate('+ rotation +'deg)',
                 '-moz-transform' : 'rotate('+ rotation +'deg)',
                 '-ms-transform' : 'rotate('+ rotation +'deg)',
                 'transform' : 'rotate('+ rotation +'deg)'});
	}

	function showNewMantra() {
		currentQuote = (currentQuote + 1) % quotes.length;

		// Fade out
		$('#quote').fadeOut(3000, function () {
			
			$('#quote').text(quotes[currentQuote]);
			// Then fade in
			$('#quote').fadeIn(3000);

		});	

	}


	</script>

</body>
</html>
